<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MR. PROOT TOAST - Educational Research Portal</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Arial; }
    body { background: #f4f6f9; padding: 15px; transition: background 0.5s; }
    .container { max-width: 950px; margin: auto; background: white; border-radius: 16px; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.1); }
    .header { padding: 18px; background: linear-gradient(45deg, #4CAF50, #2196F3); color: white; text-align: center; font-size: 20px; font-weight: bold; }
    .input-bar { padding: 15px; background: #f9f9f9; display: flex; gap: 10px; align-items: center; }
    input { flex: 1; padding: 14px; font-size: 16px; border: 2px solid #ddd; border-radius: 10px; }
    button { padding: 14px 24px; background: #FF9800; color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; }
    button:hover { background: #F57C00; }
    .viewer { width: 100%; height: 620px; border: none; }
    .info { padding: 8px; font-size: 13px; color: #555; text-align: center; background: #fff8e1; }

    /* Settings Panel */
    .settings-btn { position: fixed; right: 20px; top: 20px; background: #673AB7; color: white; width: 50px; height: 50px; border-radius: 50%; font-size: 24px; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: center; z-index: 1000; }
    .settings-panel { position: fixed; right: -300px; top: 0; width: 300px; height: 100%; background: #2c3e50; color: white; padding: 20px; transition: right 0.4s; z-index: 999; box-shadow: -4px 0 15px rgba(0,0,0,0.3); }
    .settings-panel.open { right: 0; }
    .close-btn { float: right; font-size: 24px; cursor: pointer; }
    .setting { margin: 20px 0; }
    label { display: flex; align-items: center; gap: 10px; font-size: 16px; cursor: pointer; }
    input[type="checkbox"] { transform: scale(1.3); }

    /* Rainbow Mode */
    @keyframes rainbow { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }
    .rainbow { background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #ff00c8); background-size: 400%; animation: rainbow 8s ease infinite; }
  </style>
</head>
<body>
  <div class="settings-btn" onclick="toggleSettings()">‚öôÔ∏è</div>

  <div class="container">
    <div class="header">üåü MR. PROOT TOAST - Educational Research Portal</div>
    <div class="input-bar">
      <input type="text" id="urlInput" placeholder="Enter research site (e.g. khanacademy.org)" />
      <button onclick="loadSite()">LOAD</button>
    </div>
    <iframe id="siteFrame" class="viewer" sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-modals"></iframe>
    <div class="info">Double-click site to enter Fullscreen ‚Ä¢ Press Esc to exit ‚Ä¢ Settings ‚öôÔ∏è</div>
  </div>

  <!-- Settings Panel -->
  <div class="settings-panel" id="settings">
    <div class="close-btn" onclick="toggleSettings()">√ó</div>
    <h3>Display Settings</h3>
    <div class="setting">
      <label><input type="checkbox" id="rainbowMode" onchange="toggleRainbow()"> Rainbow Background</label>
    </div>
    <div class="setting">
      <label><input type="checkbox" id="darkMode" onchange="toggleDark()"> Dark Mode (Viewer)</label>
    </div>
    <div class="setting">
      <small>Tip: Use for academic research only.</small>
    </div>
  </div>

  <script>
    const frame = document.getElementById('siteFrame');
    const body = document.body;

    function loadSite() {
      let url = document.getElementById('urlInput').value.trim();
      if (!url) return alert("Please enter a website.");
      if (!url.startsWith('http://') && !url.startsWith('https://')) {
        url = 'https://' + url;
      }
      frame.src = url;
    }

    // Enter key
    document.getElementById('urlInput').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') loadSite();
    });

    // Double-click fullscreen
    frame.addEventListener('dblclick', () => {
      if (frame.requestFullscreen) frame.requestFullscreen();
      else if (frame.webkitRequestFullscreen) frame.webkitRequestFullscreen();
      else if (frame.msRequestFullscreen) frame.msRequestFullscreen();
    });

    // Esc to exit fullscreen
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && document.fullscreenElement) {
        document.exitFullscreen();
      }
    });

    // Settings
    function toggleSettings() {
      document.getElementById('settings').classList.toggle('open');
    }

    function toggleRainbow() {
      const enabled = document.getElementById('rainbowMode').checked;
      if (enabled) {
        body.classList.add('rainbow');
      } else {
        body.classList.remove('rainbow');
        body.style.background = '#f4f6f9';
      }
    }

    function toggleDark() {
      const enabled = document.getElementById('darkMode').checked;
      frame.style.filter = enabled ? 'invert(1) hue-rotate(180deg)' : 'none';
    }
  </script>
</body>
</html>
