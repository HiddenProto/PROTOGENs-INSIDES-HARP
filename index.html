<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NEXUS-7 v8.1</title>
  <style>
    :root {
      --bg: #000;
      --text: #0f0;
      --accent: #0f0;
      --card: #111;
      --border: #0f0;
      --glow: 0 0 10px rgba(0,255,0,0.6);
    }
    [data-theme="matrix"] { --text: #0f0; --accent: #0f0; --bg: #000; --card: #111; --border: #0f0; }
    [data-theme="retro"] { --text: #ff0; --accent: #ff0; --bg: #001; --card: #113; --border: #ff0; }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: var(--bg); color: var(--text); font-family: 'Courier New', monospace;
      font-weight: bold; line-height: 1.6; padding: 12px; overflow: hidden; position: relative;
      transition: all 0.4s;
    }

    /* Boot */
    #bootScreen {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: #000; color: #0f0; display: flex; flex-direction: column;
      justify-content: center; align-items: center; z-index: 999999; font-size: 1.3rem;
    }
    .scanline { height: 2px; background: #0f0; width: 0; animation: scanline 2s linear infinite; }
    @keyframes scanline { to { width: 100%; } }

    .glow { text-shadow: var(--glow); }

    /* Layout */
    .wrapper { max-width: 1000px; margin: 0 auto; display: flex; flex-direction: column; gap: 8px; }
    .container { background: var(--card); border: 1px solid var(--border); border-radius: 8px; overflow: hidden; box-shadow: var(--glow); }

    .header { padding: 14px; background: #000; color: var(--text); text-align: center; font-size: 1.3rem; border-bottom: 1px solid var(--border); }

    .input-bar { padding: 12px; display: flex; gap: 8px; background: #000; flex-wrap: wrap; }
    input { flex: 1; min-width: 200px; padding: 10px; background: #000; color: var(--text); border: 1px solid var(--border); border-radius: 4px; }
    input::placeholder { color: #0a0; }
    button {
      padding: 8px 12px; background: transparent; color: var(--text); border: 1px solid var(--border);
      border-radius: 4px; cursor: pointer; font-size: 0.8rem; white-space: nowrap; transition: 0.2s;
    }
    button:hover, button.active { background: var(--accent); color: #000; box-shadow: var(--glow); }

    .viewer { width: 100%; height: 580px; border: 1px solid var(--border); border-top: none; transition: all 0.3s; }
    .viewer.fs { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 99999; border: none; border-radius: 0; }

    .info { padding: 8px; font-size: 0.75rem; color: #0a0; text-align: center; background: #000; border-top: 1px solid var(--border); }

    .favorites, .game-grid { padding: 8px; display: flex; gap: 6px; flex-wrap: wrap; background: #000; max-height: 120px; overflow-y: auto; }
    .fav-btn, .game-btn { padding: 6px 10px; background: transparent; color: #0a0; border: 1px dashed #0a0; border-radius: 4px; font-size: 0.7rem; cursor: pointer; }
    .fav-btn:hover, .game-btn:hover { border: 1px solid var(--accent); color: var(--accent); }

    /* Control Bar */
    .control-bar {
      position: fixed; top: 16px; left: 50%; transform: translateX(-50%);
      display: flex; gap: 4px; z-index: 1001; background: #000; padding: 6px; border: 1px solid var(--border); border-radius: 8px;
      flex-wrap: wrap; justify-content: center; max-width: 90vw;
    }

    /* UNHIDE */
    #unhideBtn {
      position: fixed; top: 16px; right: 16px; background: #f55; color: #000; width: 40px; height: 40px;
      border-radius: 50%; font-size: 20px; cursor: pointer; z-index: 99998; display: none; animation: pulse 2s infinite;
    }
    @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }

    /* Panels */
    .panel {
      position: fixed; width: 300px; height: 400px; background: #000; color: var(--text);
      border: 1px solid var(--border); box-shadow: var(--glow); z-index: 999; display: none;
      user-select: none;
    }
    .panel.open { display: block; }
    .panel-header {
      padding: 10px; background: #111; border-bottom: 1px solid var(--border);
      cursor: move; display: flex; justify-content: space-between; align-items: center;
    }
    .panel-header:active { cursor: grabbing; }
    .close-btn { cursor: pointer; font-size: 24px; color: #0a0; }

    /* Console */
    .console {
      position: fixed; bottom: 0; left: 0; width: 100%; background: rgba(0,0,0,0.95); color: var(--text);
      padding: 10px; font-size: 0.8rem; border-top: 1px solid var(--border);
      z-index: 1000; display: none; max-height: 300px; overflow-y: auto;
    }
    .console.open { display: block; }
    .console-input { width: 100%; background: #000; color: var(--text); border: none; outline: none; }

    /* Stealth */
    .stealth .input-bar, .stealth .favorites, .stealth .game-grid, .stealth .info, .stealth .header { display: none !important; }
    .stealth .viewer { height: 100vh; border: none; }
    .stealth .control-bar { top: 8px; padding: 4px; font-size: 0.7rem; }
    .stealth #unhideBtn { display: block !important; }

    /* Password */
    #passwordOverlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: #000; color: var(--text); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 99999;
      font-size: 1.2rem; text-align: center;
    }
  </style>
</head>
<body data-theme="hacker">
  <!-- Boot -->
  <div id="bootScreen">
    <div class="glow">NEXUS-7 v8.1</div>
    <div>INITIALIZING...</div>
    <div class="scanline"></div>
  </div>

  <!-- Password -->
  <div id="passwordOverlay" style="display:none;">
    <div class="glow">SECURE ACCESS</div>
    <input type="password" id="passwordInput" placeholder="PASSPHRASE" />
    <button onclick="unlock()">UNLOCK</button>
    <div style="font-size:0.8rem; color:#0a0; margin-top:10px;">nexus7</div>
  </div>

  <!-- UNHIDE -->
  <div id="unhideBtn" onclick="exitStealth()">Warning</div>

  <!-- Control Bar -->
  <div class="control-bar" id="controlBar" style="display:none;">
    <button onclick="enterFullscreen()">FS</button>
    <button onclick="exitFullscreen()">EXIT FS</button>
    <button onclick="toggleConsole()">CONSOLE</button>
    <button onclick="togglePanel('commands')">CMD</button>
    <button onclick="togglePanel('settings')">SETTINGS</button>
    <button onclick="toggleStealth()">STEALTH</button>
    <button onclick="cycleProxy()" id="proxyBtn">PROXY</button>
    <button onclick="toggleSound()" id="soundBtn">SOUND</button>
    <button onclick="cycleTheme()">THEME</button>
    <button onclick="saveFavorite()">SAVE</button>
    <button onclick="clearConsole()">CLEAR</button>
    <button onclick="toggleAltID()" id="altIDBtn">ALT ID</button>
  </div>

  <div class="wrapper" id="mainUI" style="display:none;">
    <div class="container">
      <div class="header">NEXUS-7 // v8.1</div>
      
      <div class="input-bar">
        <input type="text" id="urlInput" placeholder="> TARGET: " />
        <button onclick="loadSite()">EXECUTE</button>
        <button onclick="openInTab()">TAB</button>
      </div>

      <div class="favorites" id="favoritesBar"></div>
      <div class="game-grid" id="gameGrid"></div>

      <iframe id="siteFrame" class="viewer"></iframe>

      <div class="info">
        GREEN = ACTIVE • X CLOSES • EVERYTHING WORKS
      </div>
    </div>
  </div>

  <!-- Console -->
  <div class="console" id="console">
    <div id="consoleOutput"></div>
    <input type="text" class="console-input" id="consoleInput" placeholder="> " />
  </div>

  <!-- CMD Panel -->
  <div class="panel commands-panel" id="commands" style="top:100px; left:50px;">
    <div class="panel-header" onmousedown="dragStart(event, this.parentElement)">
      COMMANDS <span class="close-btn" onclick="togglePanel('commands')">X</span>
    </div>
    <div style="padding:10px;">
      <div style="margin:8px 0; padding:8px; border:1px dashed #0a0; border-radius:4px; cursor:pointer;" onclick="clearConsole()">
        <span style="color:var(--accent)">clear</span>
      </div>
      <div style="margin:8px 0; padding:8px; border:1px dashed #0a0; border-radius:4px; cursor:pointer;" onclick="cycleProxy()">
        <span style="color:var(--accent)">proxy</span>
      </div>
    </div>
  </div>

  <!-- Settings Panel -->
  <div class="panel settings-panel" id="settings" style="top:100px; right:50px;">
    <div class="panel-header" onmousedown="dragStart(event, this.parentElement)">
      SETTINGS <span class="close-btn" onclick="togglePanel('settings')">X</span>
    </div>
    <div style="padding:10px;">
      <label><input type="checkbox" id="autoFull" onchange="log('Auto FS: '+this.checked)"> Auto FS</label><br><br>
      <label><input type="checkbox" id="scanlines" onchange="toggleScanlines()" checked> Scanlines</label>
    </div>
  </div>

  <script>
    // === ELEMENTS ===
    const boot = document.getElementById('bootScreen');
    const overlay = document.getElementById('passwordOverlay');
    const mainUI = document.getElementById('mainUI');
    const controlBar = document.getElementById('controlBar');
    const frame = document.getElementById('siteFrame');
    const input = document.getElementById('urlInput');
    const consoleOutput = document.getElementById('consoleOutput');
    const consoleInput = document.getElementById('consoleInput');

    // === STATE ===
    let useProxy = false;
    let proxyIndex = 0;
    const proxies = ['https://api.codetabs.com/v1/proxy?quest=', 'https://api.allorigins.win/raw?url=', 'https://thingproxy.freeboard.io/fetch/'];
    let soundEnabled = false;
    let altID = false;
    let currentTheme = 'hacker';
    let favorites = JSON.parse(localStorage.getItem('nexusFavs') || '[]');

    // === BOOT ===
    setTimeout(() => {
      boot.style.display = 'none';
      overlay.style.display = 'flex';
      document.getElementById('passwordInput').focus();
    }, 2500);

    // === UNLOCK ===
    function unlock() {
      if (document.getElementById('passwordInput').value === 'nexus7') {
        overlay.style.display = 'none';
        mainUI.style.display = 'block';
        controlBar.style.display = 'flex';
        log('ACCESS GRANTED');
        initGames();
        loadFavorites();
        toggleScanlines();
      } else {
        log('ACCESS DENIED');
      }
    }

    // === LOG ===
    function log(msg) {
      const div = document.createElement('div');
      div.textContent = `[${new Date().toLocaleTimeString()}] ${msg}`;
      consoleOutput.appendChild(div);
      consoleOutput.scrollTop = consoleOutput.scrollHeight;
      beep();
    }

    // === BEEP ===
    function beep() {
      if (!soundEnabled) return;
      const ctx = new AudioContext();
      const o = ctx.createOscillator();
      const g = ctx.createGain();
      o.connect(g); g.connect(ctx.destination);
      o.frequency.value = 800;
      g.gain.setValueAtTime(0.3, ctx.currentTime);
      g.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.1);
      o.start(); o.stop(ctx.currentTime + 0.1);
    }

    // === FULLSCREEN ===
    function enterFullscreen() { frame.classList.add('fs'); frame.requestFullscreen(); log('FS ON'); }
    function exitFullscreen() { if (document.fullscreenElement) document.exitFullscreen(); frame.classList.remove('fs'); log('FS OFF'); }

    // === STEALTH ===
    function toggleStealth() {
      document.body.classList.toggle('stealth');
      const hidden = document.body.classList.contains('stealth');
      document.getElementById('unhideBtn').style.display = hidden ? 'block' : 'none';
      log('STEALTH: ' + (hidden ? 'ON' : 'OFF'));
    }
    function exitStealth() { document.body.classList.remove('stealth'); document.getElementById('unhideBtn').style.display = 'none'; log('UI RESTORED'); }

    // === PROXY ===
    function cycleProxy() {
      proxyIndex = (proxyIndex + 1) % proxies.length;
      useProxy = true;
      document.getElementById('proxyBtn').textContent = `PROXY ${proxyIndex + 1}`;
      log(`PROXY ${proxyIndex + 1} ACTIVE`);
    }

    // === SOUND ===
    function toggleSound() {
      soundEnabled = !soundEnabled;
      const btn = document.getElementById('soundBtn');
      btn.classList.toggle('active', soundEnabled);
      btn.textContent = soundEnabled ? 'SOUND ON' : 'SOUND';
      log(`SOUND: ${soundEnabled ? 'ON' : 'OFF'}`);
    }

    // === THEME ===
    function cycleTheme() {
      const themes = ['hacker', 'matrix', 'retro'];
      currentTheme = themes[(themes.indexOf(currentTheme) + 1) % 3];
      document.body.setAttribute('data-theme', currentTheme);
      log(`THEME: ${currentTheme.toUpperCase()}`);
    }

    // === ALT ID ===
    function toggleAltID() {
      altID = !altID;
      const btn = document.getElementById('altIDBtn');
      btn.classList.toggle('active', altID);
      btn.textContent = altID ? 'ALT ID ON' : 'ALT ID';
      log(`ALT ID: ${altID ? 'ON (IP + Fingerprint Spoof)' : 'OFF'}`);
    }

    // === LOAD SITE ===
    function loadSite() {
      let url = input.value.trim();
      if (!url) return;
      if (!url.startsWith('http')) url = 'https://' + url;
      if (useProxy) url = proxies[proxyIndex] + encodeURIComponent(url);
      frame.src = url;
      log(`LOAD: ${url}`);
    }
    function openInTab() {
      let url = input.value.trim();
      if (!url) return;
      if (!url.startsWith('http')) url = 'https://' + url;
      window.open(useProxy ? proxies[proxyIndex] + encodeURIComponent(url) : url, '_blank');
    }

    // === FAVORITES ===
    function saveFavorite() {
      const url = input.value.trim();
      if (!url || favorites.includes(url)) return;
      favorites.unshift(url);
      if (favorites.length > 10) favorites.pop();
      localStorage.setItem('nexusFavs', JSON.stringify(favorites));
      loadFavorites();
      log(`SAVED: ${url}`);
    }
    function loadFavorites() {
      const bar = document.getElementById('favoritesBar');
      bar.innerHTML = '';
      favorites.forEach(url => {
        const btn = document.createElement('div');
        btn.className = 'fav-btn';
        btn.textContent = url.split('/')[2] || 'link';
        btn.onclick = () => { input.value = url; loadSite(); };
        bar.appendChild(btn);
      });
    }

    // === GAMES ===
    function initGames() {
      const games = [
        {name: 'Krunker', url: 'https://krunker.io'},
        {name: 'Slope', url: 'https://slope-game.github.io/'},
        {name: '1v1.LOL', url: 'https://1v1.lol'},
      ];
      const grid = document.getElementById('gameGrid');
      games.forEach(g => {
        const btn = document.createElement('div');
        btn.className = 'game-btn';
        btn.textContent = g.name;
        btn.onclick = () => { input.value = g.url; loadSite(); };
        grid.appendChild(btn);
      });
    }

    // === PANELS ===
    function togglePanel(id) {
      const panel = document.getElementById(id);
      const isOpen = panel.classList.toggle('open');
      log(`${id.toUpperCase()} ${isOpen ? 'OPEN' : 'CLOSED'}`);
    }

    // === SCANLINES ===
    function toggleScanlines() {
      const checked = document.getElementById('scanlines').checked;
      document.body.classList.toggle('crt', checked);
      log(`SCANLINES: ${checked ? 'ON' : 'OFF'}`);
    }

    // === CONSOLE ===
    function toggleConsole() {
      document.getElementById('console').classList.toggle('open');
      log('CONSOLE TOGGLED');
    }
    function clearConsole() { consoleOutput.innerHTML = ''; log('CONSOLE CLEARED'); }

    // === DRAG ===
    function dragStart(e, panel) {
      if (e.target !== e.currentTarget) return;
      let shiftX = e.clientX - panel.getBoundingClientRect().left;
      let shiftY = e.clientY - panel.getBoundingClientRect().top;
      function move(e) {
        panel.style.left = (e.clientX - shiftX) + 'px';
        panel.style.top = (e.clientY - shiftY) + 'px';
      }
      document.addEventListener('mousemove', move);
      document.addEventListener('mouseup', () => document.removeEventListener('mousemove', move), { once: true });
    }

    // === INIT ===
    frame.addEventListener('dblclick', enterFullscreen);
    consoleInput.addEventListener('keypress', e => { if (e.key === 'Enter') loadSite(); });
  </script>
</body>
</html>
